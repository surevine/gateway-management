@(project: Project)

@import helper._

@main("View source code repositories") {

	<section>
		<h4>Repository details <a href="@routes.Projects.edit(project.id)" class="btn btn-primary btn-xs">Edit</a></h4>
		<table class="destination-info">
			<tr>
				<th>Name</th>
				<td>@project.displayName</td>
			</tr>
			<tr>
				<th>Repository URL</th>
				<td>@project.projectKey/@project.repositorySlug</td>
			</tr>
		</table>
	</section>

	<section>
		<h4>Shared destinations</h4>
				<a href="@routes.Projects.shareProjectPage(project.id)" class="btn btn-primary btn-sm">Share repository</a>

		<ul class="list-group project-list">
	    @if(project.destinations.isEmpty) {
	    	<li class="list-group-item list-group-item-warning">This repository is not being shared with any destinations</li>
	    } else {
		    @for(destination <- project.destinations) {
		    	<li class="list-group-item">
					@destination.name <span class="text-muted">@destination.url</span>
					@form(routes.SharingPartnerships.unshareDestinationFromProject()) {
						<input type="hidden" name="destinationId" value="@destination.id" />
						<input type="hidden" name="projectId" value="@project.id" />
				        <input type="submit" value="Unshare" class="btn btn-danger btn-xs pull-right" />
				    }
				</li>
		    }
	    }
	    </ul>
	</section>

}
